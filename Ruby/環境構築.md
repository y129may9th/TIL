# 環境構築
https://qiita.com/hujuu/items/3d600f2b2384c145ad12
[rbenv や Bundler を用いた Ruby環境構築](https://qiita.com/HayneRyo/items/d493a2b3cec2322f167c)

## Homebrew
パッケージマネージャー
1. Homebrew install  
インストールスクリプト  
https://brew.sh/index_ja  
1. インストール出来たか確認  
`brew doctor`


## rbenv
- バージョンを切り替えるツール
- Homebrewからインストール出来る  
https://qiita.com/ginokinh/items/d1bed63edadfa0a84e43


## ruby-build 
- rbenvで使われるプラグイン  
  Rubyのインストールやコンパイルに必要  
  rbenv自体にはインストール済みのrubyを管理する機能しかない  
  ⇨ rubyをインストールする機能であるruby-buildも併せてチェックアウトする必要がある  
`$ brew install rbenv`   
`$ brew install rbenv ruby-build`  
`$ rbenv --version`  
`rbenv -v`  


## path を通す
https://qiita.com/Naggi-Goishi/items/2c49ea50602ea80bf015  
- Bashスクリプトを使う  
- brenv を探し出すパスをPATHに指定しておく（shellが探しやすい）


## ruby
- インストール済みのrubyバージョンをみる  
`$ rbenv versions`

- install  
    - インストールできるバージョン一覧  
    `rbenv install --list`  
    - インストール  
    `rbenv install 2.5.1`
    - uninstall  
        `rbenv uninstall 2.4.0`


## インストールしたいバージョンが見つからない時
- ruby-buildをアップグレードしてリストを最新化
- homebrewも更新する必要がある  
`brew update && brew ruby-build`  


- カレントディレクトリの有効なRubyバージョンをみる  
`$ rbenv version`  
`$ rbenv versions`  

- local  
プロジェクト毎にバージョンを指定する  
`rbenv local 2.5.1`

- rubyが使用できるか  
`ruby -v`   
`=> ruby 2.5.1p57 (2018-03-29 revision 63029) [x86_64-darwin17]`  
`which ruby`  
`=> /usr/bin/ruby`  
!!ここで指定したバージョンになっていない時、パスが通ってないかも!!

- gloval  
システム全体でのrubyのバージョンを指定する  
`rbenv global 2.5.1`  
`rbenv version`  
`=> 2.5.1 (set by /Users/yuionishi/.rbenv/version)`


# 環境構築
1. GitHubで`New Repo`
1. ` mkdir [ディレクトリ]`
1. 1を `git clone`
1. `rbenv install --list`
 インストール可能なバージョン確認
1. `rbenv install [version]`
1. `rbenv local [4のバージョン]`
    - `ruby -v` で確認
1. `rbenv exec bundle init`
    - GemFile作成
1. Gemfileのなか
    1. rails のコメントアウトをはずす
    1. 使いたいRailsのバージョンを指定
    `"rails", "5.2.1"`
1. `bundle install --path vendor/bundle`
    - Gemfile をよみこむ
    - `Gemfile.lock` 作成される
        - gemのバージョン
        - 依存関係
    - gemのライブラリをインストール
    - Warning 出たら実行する
1. `bundle exec rails new . -d postgresql`
    - Gemfileを上書きするか聞いてくる→Enter
1. `bundle exec rails db:create`
1. `bundle exec rails s`

# 途中から参加のとき
[Railsアプリ開発に途中から参加する場合の環境設定](https://qiita.com/yh2020/items/efd888854acf89af5ca7)
1. ディレクトリをつくっておく  
`mkdir [ディレクトリ ]`
1. プロジェクトをクローンする  
    `git clone [https/ssh レポジトリ]`
    1. 公開鍵がない時  
    [GitHubでssh接続する手順~公開鍵・秘密鍵の生成から~](https://qiita.com/shizuma/items/2b2f873a0034839e47ce)
1. Rubyのバージョンを確認  
    `cat .ruby-version `  
    `rbenv versions  `
1. rubyのバージョンを指定する（PATHがとおってない時）  
rbenv versionでは、指定Versionが変化していても、
ruby -vをすると、Versionが変更されていないとき
```
PATH="~/.rbenv/shims:usr/local/bin:$PATH"
# ~/.bash_profileの末尾に追加
eval "$(rbenv init -)"
```
.bash_profileを反映させる

`$ source ~/.bash_profile`
    `ruby -v`
1. Bundller を導入
    `rbenv exec gem install bundller`  
    - このgemコマンドはrbenvによってバージョン管理されている
    `$ rbenv rehash`
    - rubyやgemをインストールして使えるコマンド(irb, gem, rake, rails, rubyなど)をバージョン毎に振り分けるフォルダ
    - コマンドが増える時は行う
1. Gemfile があるので、反映させる  
`bundle install --path vnedor/bundle`
    - rails のバージョンが指定される  
1. postgreSQLの導入・SQLの設定
    - 導入は割愛
    ` bundle exec rails db:create`
    ` bundle exec rails db:migrate`
1. `bundle exec rails s`

# gemを最新化して、bundleを入れ直す
- `bundle install` でエラー
- bundle を最新のgemでインストール
`gem install bundler`  
`bundler -v`  
=> Bundler version 2.0.2


# bundler
[ツールを使いたいだけの人のための bundler 入門 (例: vagrant + veewee)](https://qiita.com/znz/items/5471e5826fde29fa9a80)

